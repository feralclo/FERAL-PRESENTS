/*
 * Tailwind CSS for admin dashboard (shadcn/ui foundation)
 *
 * CRITICAL: Utilities are imported WITHOUT a layer so they compete with
 * base.css on specificity (class > universal) and WIN. If utilities were
 * in @layer, the unlayered * { margin: 0 } from base.css would override
 * every Tailwind margin/padding class.
 */

/* Layer order — admin-reset is BELOW unlayered utilities */
@layer theme, admin-reset;
@import "tailwindcss/theme" layer(theme);

/* Utilities are UNLAYERED — this is intentional. See comment above. */
@import "tailwindcss/utilities";

/*
 * Design system — Electric Violet
 *
 * Premium dark palette built for events/nightlife platforms.
 * Violet primary (#8B5CF6) paired with deep charcoal surfaces
 * and subtle warm undertones for a sophisticated, immersive feel.
 *
 * Color architecture:
 *   Background: #08080c — deep charcoal with cool undertone
 *   Card/Popover: #111117 — raised surface with subtle violet warmth
 *   Sidebar: #0a0a10 — deepest surface, anchors the layout
 *   Borders: #1e1e2a — subtle purple-tinted dividers
 *   Muted surfaces: #151520 — nested elements inside cards
 */
@theme inline {
  --color-background: #08080c;
  --color-foreground: #f0f0f5;
  --color-card: #111117;
  --color-card-foreground: #f0f0f5;
  --color-popover: #111117;
  --color-popover-foreground: #f0f0f5;
  --color-primary: #8B5CF6;
  --color-primary-foreground: #ffffff;
  --color-secondary: #151520;
  --color-secondary-foreground: #f0f0f5;
  --color-muted: #151520;
  --color-muted-foreground: #8888a0;
  --color-accent: #151520;
  --color-accent-foreground: #f0f0f5;
  --color-destructive: #F43F5E;
  --color-destructive-foreground: #ffffff;
  --color-border: #1e1e2a;
  --color-input: #1e1e2a;
  --color-ring: #8B5CF6;
  --color-success: #34D399;
  --color-success-foreground: #ffffff;
  --color-warning: #FBBF24;
  --color-warning-foreground: #18181b;
  --color-sidebar: #0a0a10;
  --color-sidebar-foreground: #8888a0;
  --color-sidebar-primary: #8B5CF6;
  --color-sidebar-accent: #141420;
  --color-sidebar-accent-foreground: #f0f0f5;
  --color-sidebar-border: #161624;
  --color-sidebar-ring: #8B5CF6;
  --radius-sm: 0.25rem;
  --radius-md: 0.375rem;
  --radius-lg: 0.5rem;
  --radius-xl: 0.75rem;
  --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  --font-mono: 'Space Mono', ui-monospace, monospace;
}

/*
 * Admin-scoped Preflight — provides the base reset that shadcn needs.
 *
 * CRITICAL: This MUST be in @layer admin-reset so that unlayered Tailwind
 * utilities always override it. Without the layer, [data-admin] button
 * (specificity 0-1-1) beats .bg-primary (0-1-0) and all button/input
 * styles become invisible.
 */
@layer admin-reset {
  [data-admin] {
    font-family: var(--font-sans);
    color: var(--color-foreground);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    line-height: 1.5;
  }

  [data-admin] *,
  [data-admin] *::before,
  [data-admin] *::after {
    border-color: var(--color-border);
  }

  [data-admin] h1,
  [data-admin] h2,
  [data-admin] h3,
  [data-admin] h4,
  [data-admin] h5,
  [data-admin] h6 {
    font-size: inherit;
    font-weight: inherit;
  }

  [data-admin] a {
    color: inherit;
    text-decoration: inherit;
  }

  [data-admin] button {
    font: inherit;
    color: inherit;
    background: transparent;
    border: 0;
    padding: 0;
    margin: 0;
    cursor: pointer;
  }

  [data-admin] input,
  [data-admin] textarea,
  [data-admin] select {
    font: inherit;
    color: inherit;
    background: transparent;
    margin: 0;
  }

  [data-admin] img,
  [data-admin] svg {
    display: inline;
    max-width: initial;
  }
}

/* ── Unlayered overrides (always apply, never beaten by utilities) ── */

/* Dark scrollbar for admin area */
[data-admin] {
  scrollbar-width: thin;
  scrollbar-color: #1e1e2a transparent;
}
[data-admin] ::-webkit-scrollbar { width: 5px; height: 5px; }
[data-admin] ::-webkit-scrollbar-track { background: transparent; }
[data-admin] ::-webkit-scrollbar-thumb { background: #1e1e2a; border-radius: 4px; }
[data-admin] ::-webkit-scrollbar-thumb:hover { background: #2a2a3a; }

/* Prevent browser autofill from turning inputs white */
[data-admin] input:-webkit-autofill,
[data-admin] input:-webkit-autofill:hover,
[data-admin] input:-webkit-autofill:focus {
  -webkit-box-shadow: 0 0 0 40px #111117 inset !important;
  -webkit-text-fill-color: #f0f0f5 !important;
  caret-color: #f0f0f5 !important;
  transition: background-color 5000s ease-in-out 0s;
}

/* ── Glow utilities ── */
[data-admin] .glow-primary {
  box-shadow: 0 0 20px rgba(139, 92, 246, 0.15), 0 0 60px rgba(139, 92, 246, 0.05);
}
[data-admin] .glow-success {
  box-shadow: 0 0 20px rgba(52, 211, 153, 0.15), 0 0 60px rgba(52, 211, 153, 0.05);
}
[data-admin] .glow-warning {
  box-shadow: 0 0 20px rgba(251, 191, 36, 0.15), 0 0 60px rgba(251, 191, 36, 0.05);
}
[data-admin] .glow-destructive {
  box-shadow: 0 0 20px rgba(244, 63, 94, 0.15), 0 0 60px rgba(244, 63, 94, 0.05);
}

/* ── Gradient text utility ── */
[data-admin] .text-gradient {
  background: linear-gradient(135deg, #8B5CF6, #A78BFA, #C4B5FD);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* ── Subtle noise texture for depth ── */
[data-admin] .surface-noise::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  opacity: 0.03;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
  pointer-events: none;
  z-index: 0;
}

/* ── Animated gradient border for premium cards ── */
@keyframes gradient-shift {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

/* ── Dialog animations ── */
@keyframes dialog-overlay-in {
  from { opacity: 0; }
  to { opacity: 1; }
}
@keyframes dialog-content-in {
  from { opacity: 0; transform: translate(-50%, -48%) scale(0.96); }
  to { opacity: 1; transform: translate(-50%, -50%) scale(1); }
}

[data-admin] .dialog-overlay[data-state="open"] {
  animation: dialog-overlay-in 150ms ease-out;
}
[data-admin] .dialog-content[data-state="open"] {
  animation: dialog-content-in 150ms ease-out;
}

/* ── Collapsible animations ── */
@keyframes collapsible-down {
  from { height: 0; }
  to { height: var(--radix-collapsible-content-height); }
}
@keyframes collapsible-up {
  from { height: var(--radix-collapsible-content-height); }
  to { height: 0; }
}

[data-admin] .collapsible-content[data-state="open"] {
  animation: collapsible-down 200ms ease-out;
}
[data-admin] .collapsible-content[data-state="closed"] {
  animation: collapsible-up 200ms ease-out;
}
