/*
 * Tailwind CSS for admin dashboard (shadcn/ui foundation)
 *
 * CRITICAL: Utilities are imported WITHOUT a layer so they compete with
 * base.css on specificity (class > universal) and WIN. If utilities were
 * in @layer, the unlayered * { margin: 0 } from base.css would override
 * every Tailwind margin/padding class.
 */

/* Layer order — admin-reset is BELOW unlayered utilities */
@layer theme, admin-reset;
@import "tailwindcss/theme" layer(theme);

/* Utilities are UNLAYERED — this is intentional. See comment above. */
@import "tailwindcss/utilities";

/*
 * FERAL design system — consumed by shadcn/ui via Tailwind v4 @theme.
 *
 * Color palette based on zinc scale for a clean dark UI:
 *   Background/Card: zinc-950 (#09090b) — borders create card distinction
 *   Sidebar: slightly lighter grey (#111113) for subtle separation
 *   Borders: zinc-800 (#27272a) — thin, visible dividers
 *   Muted surfaces: zinc-900 (#18181b)
 */
@theme inline {
  --color-background: #09090b;
  --color-foreground: #fafafa;
  --color-card: #09090b;
  --color-card-foreground: #fafafa;
  --color-popover: #09090b;
  --color-popover-foreground: #fafafa;
  --color-primary: #ff0033;
  --color-primary-foreground: #ffffff;
  --color-secondary: #18181b;
  --color-secondary-foreground: #fafafa;
  --color-muted: #18181b;
  --color-muted-foreground: #a1a1aa;
  --color-accent: #18181b;
  --color-accent-foreground: #fafafa;
  --color-destructive: #ff0033;
  --color-destructive-foreground: #ffffff;
  --color-border: #27272a;
  --color-input: #27272a;
  --color-ring: #ff0033;
  --color-success: #22c55e;
  --color-success-foreground: #ffffff;
  --color-warning: #eab308;
  --color-warning-foreground: #ffffff;
  --color-sidebar: #111113;
  --color-sidebar-foreground: #a1a1aa;
  --color-sidebar-primary: #ff0033;
  --color-sidebar-accent: #18181b;
  --color-sidebar-accent-foreground: #fafafa;
  --color-sidebar-border: #1e1e22;
  --color-sidebar-ring: #ff0033;
  --radius-sm: 0.25rem;
  --radius-md: 0.375rem;
  --radius-lg: 0.5rem;
  --radius-xl: 0.75rem;
  --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  --font-mono: 'Space Mono', ui-monospace, monospace;
}

/*
 * Admin-scoped Preflight — provides the base reset that shadcn needs.
 *
 * CRITICAL: This MUST be in @layer admin-reset so that unlayered Tailwind
 * utilities always override it. Without the layer, [data-admin] button
 * (specificity 0-1-1) beats .bg-primary (0-1-0) and all button/input
 * styles become invisible.
 */
@layer admin-reset {
  [data-admin] {
    font-family: var(--font-sans);
    color: var(--color-foreground);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    line-height: 1.5;
  }

  [data-admin] *,
  [data-admin] *::before,
  [data-admin] *::after {
    border-color: var(--color-border);
  }

  [data-admin] h1,
  [data-admin] h2,
  [data-admin] h3,
  [data-admin] h4,
  [data-admin] h5,
  [data-admin] h6 {
    font-size: inherit;
    font-weight: inherit;
  }

  [data-admin] a {
    color: inherit;
    text-decoration: inherit;
  }

  [data-admin] button {
    font: inherit;
    color: inherit;
    background: transparent;
    border: 0;
    padding: 0;
    margin: 0;
    cursor: pointer;
  }

  [data-admin] input,
  [data-admin] textarea,
  [data-admin] select {
    font: inherit;
    color: inherit;
    background: transparent;
    margin: 0;
  }

  [data-admin] img,
  [data-admin] svg {
    display: inline;
    max-width: initial;
  }
}

/* ── Unlayered overrides (always apply, never beaten by utilities) ── */

/* Dark scrollbar for admin area */
[data-admin] {
  scrollbar-width: thin;
  scrollbar-color: #27272a transparent;
}
[data-admin] ::-webkit-scrollbar { width: 6px; height: 6px; }
[data-admin] ::-webkit-scrollbar-track { background: transparent; }
[data-admin] ::-webkit-scrollbar-thumb { background: #27272a; border-radius: 3px; }
[data-admin] ::-webkit-scrollbar-thumb:hover { background: #3f3f46; }

/* Prevent browser autofill from turning inputs white */
[data-admin] input:-webkit-autofill,
[data-admin] input:-webkit-autofill:hover,
[data-admin] input:-webkit-autofill:focus {
  -webkit-box-shadow: 0 0 0 40px #09090b inset !important;
  -webkit-text-fill-color: #fafafa !important;
  caret-color: #fafafa !important;
  transition: background-color 5000s ease-in-out 0s;
}
